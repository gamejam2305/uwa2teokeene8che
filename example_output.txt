# Example Extended Metrics Output from /monitus/passenger-status-prometheus

# Instance-level metrics
# HELP passenger_process_count Total number of processes in instance
# TYPE passenger_process_count gauge
passenger_process_count{instance="default"} 2

# HELP passenger_capacity_used Capacity used by instance
# TYPE passenger_capacity_used gauge
passenger_capacity_used{instance="default"} 2

# HELP passenger_get_wait_list_size Size of get wait list in instance
# TYPE passenger_get_wait_list_size gauge
passenger_get_wait_list_size{instance="default"} 0

# Supergroup-level metrics
# HELP passenger_supergroup_capacity_used Capacity used by supergroup
# TYPE passenger_supergroup_capacity_used gauge
passenger_supergroup_capacity_used{instance="default",supergroup="/app (development)"} 2

# HELP passenger_supergroup_get_wait_list_size Size of get wait list in supergroup
# TYPE passenger_supergroup_get_wait_list_size gauge
passenger_supergroup_get_wait_list_size{instance="default",supergroup="/app (development)"} 0

# Process-level metrics - Process 1
# HELP passenger_process_cpu CPU usage by process
# TYPE passenger_process_cpu gauge
passenger_process_cpu{instance="default",supergroup="/app (development)",pid="12345"} 0.02

# HELP passenger_process_memory Memory usage by process (rss)
# TYPE passenger_process_memory gauge
passenger_process_memory{instance="default",supergroup="/app (development)",pid="12345"} 54321000

# HELP passenger_process_vmsize Virtual memory size by process
# TYPE passenger_process_vmsize gauge
passenger_process_vmsize{instance="default",supergroup="/app (development)",pid="12345"} 234567000

# HELP passenger_process_sessions Active sessions by process
# TYPE passenger_process_sessions gauge
passenger_process_sessions{instance="default",supergroup="/app (development)",pid="12345"} 0

# HELP passenger_process_processed Total requests processed by process
# TYPE passenger_process_processed counter
passenger_process_processed{instance="default",supergroup="/app (development)",pid="12345"} 42

# NEW EXTENDED METRICS:

# HELP passenger_process_busyness Process busyness level (0=idle)
# TYPE passenger_process_busyness gauge
passenger_process_busyness{instance="default",supergroup="/app (development)",pid="12345"} 0

# HELP passenger_process_concurrency Number of concurrent requests being processed
# TYPE passenger_process_concurrency gauge
passenger_process_concurrency{instance="default",supergroup="/app (development)",pid="12345"} 1

# HELP passenger_process_alive Process life status (1=alive, 0=dead)
# TYPE passenger_process_alive gauge
passenger_process_alive{instance="default",supergroup="/app (development)",pid="12345"} 1

# HELP passenger_process_enabled Process enabled status (1=enabled, 0=disabled)
# TYPE passenger_process_enabled gauge
passenger_process_enabled{instance="default",supergroup="/app (development)",pid="12345"} 1

# HELP passenger_process_uptime_seconds Process uptime in seconds
# TYPE passenger_process_uptime_seconds gauge
passenger_process_uptime_seconds{instance="default",supergroup="/app (development)",pid="12345"} 3600

# HELP passenger_process_spawn_start_time_seconds Process spawn start time (Unix timestamp)
# TYPE passenger_process_spawn_start_time_seconds gauge
passenger_process_spawn_start_time_seconds{instance="default",supergroup="/app (development)",pid="12345"} 1729626000

# HELP passenger_process_last_used_seconds Time when process was last used (Unix timestamp)
# TYPE passenger_process_last_used_seconds gauge
passenger_process_last_used_seconds{instance="default",supergroup="/app (development)",pid="12345"} 1729629600

# HELP passenger_process_requests Current number of requests
# TYPE passenger_process_requests gauge
passenger_process_requests{instance="default",supergroup="/app (development)",pid="12345"} 0

# HELP passenger_process_has_metrics Whether process has metrics available (1=yes, 0=no)
# TYPE passenger_process_has_metrics gauge
passenger_process_has_metrics{instance="default",supergroup="/app (development)",pid="12345"} 1

# Process-level metrics - Process 2 (same metrics, different PID)
# ... (similar metrics for pid="12346")

# FILTERING EXAMPLES:
# 
# GET /monitus/passenger-status-prometheus?instance=default
# - Returns all metrics above
# 
# GET /monitus/passenger-status-prometheus?supergroup=/app
# - Returns only metrics for the "/app (development)" supergroup
# 
# GET /monitus/passenger-status-prometheus?pid=12345
# - Returns only metrics for process 12345 across all supergroups
